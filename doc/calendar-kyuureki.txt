calendar/kyuureki-*
~~~~~~~~~~~~~~~~~~~

These files contain descriptions of Kyuureki (旧暦), i.e. Japanese
classic calendar.

* Data types

In these files, Gregorian and Kyuureki dates are represented using the
|gregorian-date| and |kyuureki-date| notations of the following ABNF
grammer, respectively:

  gregorian-date = year "-" 2DIGIT "-" 2DIGIT
  kyuureki-date = year "-" 2DIGIT [leap-month] "-" 2DIGIT
  year = ["-"] 4*DIGIT
  leap-month = "'"
  DIGIT = %x30-39

Sequences of numbers in these date are year, month, and day numbers of
them, in decimal, respectively.  Existence of the |leap-month| flag
represents a leap month.

The Gregorian dates are date in the proleptic Gregorian calendar.

* kyuureki-map

The |data/calendar/kyuureki-map.txt| file contains mapping of Kyuureki
dates and Gregorian dates.

The file is an ASCII text file conforming to the following ABNF
grammer:

  file = *line
  line = gregorian-date %x09 kyuureki-date %x0A

A |line| represents a day.  Its |gregorian-date| and |kyuureki-date|
are Gregorian and Kyuureki date of the day, respectively.

* kyuureki-genten

The |data/calendar/kyuureki-genten.json| file contains some data from
日本暦日原典 (第4版).

The file contains a JSON object with following name/value pairs:

  mapping [object]

    Some of mapping data between Gregorian and Kyuureki dates from 日本
    暦日原典.  Note that Julian dates in 日本暦日原典 are converted to
    proleptic Gregorian date in this object.  Note also that this
    object only contains a few interesting mapping data.  Names are
    Gregorian dates and values are corresponding Kyuureki dates.

  notes [object]

    List of annotations in the table of 日本暦日原典.  Names are
    Kyuureki dates and values are objects with following name/value
    pairs:

      might_be_advanced [boolean]

        進朔の可能性が強いが日本暦日原典では進朔していない。

      misc_note [boolean]

        その他の注釈。

      use_computed_value [boolean]

        議論の余地があるものの、日本暦日原典では原則通りの計算値を
        採用している。

      use_fixed_value [boolean]

        日本暦日原典で計算値でなく修正値を採用している。

      vary_by_algorithm [boolean]

        採用する計算方法により計算値が異なる。

* kyuureki-diff*

The |data/calendar/kyuureki-diff.json| file contains differences of
various Kyuureki mapping tables.

The |data/calendar/kyuureki-diff-all.html| and
|data/calendar/kyuureki-diff-tables.html| files are its visualization.

* Details of Kyuureki

kyuureki-map.txt には旧暦445年1月1日から旧暦2100年12月29日までの
すべての日の旧暦と先発グレゴリオ暦の日付の対応が記述されています。

開始は『日本暦日原典』に従い445年、終了は実用上十分と思われる2100年
としています。

各種の対照表や変換ツールで旧暦が異なる場合が多々ありますが、
1872年までのデータは『日本暦日原典』に、20世紀は『20世紀暦』に、
21世紀は『21世紀暦』に従っています。2033年は多くの対照表や
変換ツールと同じく7月→8月→9月→10月→11月→閏11月→12月→1月
としています。

* Sources

日本暦日原典, 内田正男, 1992 (第4版).

20世紀暦 -- 曜日・干支・九星・旧暦・六曜, 日外アソシエーツ編集部.

21世紀暦 -- 曜日・干支・九星・旧暦・六曜, 日外アソシエーツ編集部.

SuikaWiki:旧暦 <http://wiki.suikawiki.org/n/%E6%97%A7%E6%9A%A6$20368>.

* License

You are granted a license to use, reproduce and create derivative
works of these files.
